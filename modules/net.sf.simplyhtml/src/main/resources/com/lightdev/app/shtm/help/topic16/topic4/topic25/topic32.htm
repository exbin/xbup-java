<html>
  <head>
    <link href="../../../style.css" rel="stylesheet" type="text/css">
    
  </head>
  <body>
    <p class="heading1">
      Saving documents
    </p>
    <p>
      To persistently store a newly created document or to save changes to an 
      existing one, application SimplyHTML uses an object of class <font face="'Courier New',Monospaced,Monospace">
HTMLWriter</font> which package <font face="'Courier New',Monospaced,Monospace">
javax.swing</font> holds especially for <font face="'Courier New',Monospaced,Monospace">
HTMLDocuments</font>. Again, to simply call <font face="'Courier New',Monospaced,Monospace">
HTMLWriter's</font> <font face="'Courier New',Monospaced,Monospace">write</font>
 method is not enough to meet saving requirements of SimplyHTML. Class <font face="'Courier New',Monospaced,Monospace">
DocumentPane</font> uses methods <font face="'Courier New',Monospaced,Monospace">
saveDocument</font> and <font face="'Courier New',Monospaced,Monospace">
      saveDefaultStyleSheet</font> to put together its own save routine.
    </p>
    <p class="heading2">
      Method saveDocument
    </p>
    <p>
      In method <font face="'Courier New',Monospaced,Monospace">saveDocument</font>
 class <font face="'Courier New',Monospaced,Monospace">DocumentPane</font> 
      uses its field <font face="'Courier New',Monospaced,Monospace">sourceUrl</font>
 to tell <font face="'Courier New',Monospaced,Monospace">HTMLWriter</font> 
      where to save a document. Field <font face="'Courier New',Monospaced,Monospace">
sourceUrl</font> usually has been set previously either by method <font face="'Courier New',Monospaced,Monospace"><a href="../../../topic16/topic4/topic25/topic31.htm">
loadDocument</a></font> or <font face="'Courier New',Monospaced,Monospace">
      saveDocumentAs</font>. If no <font face="'Courier New',Monospaced,Monospace">
soureUrl</font> is set for any reason, <font face="'Courier New',Monospaced,Monospace">
saveDocument</font> does nothing.
    </p>
    <p>
      When field <font face="'Courier New',Monospaced,Monospace">sourceUrl</font>
 is properly set, <font face="'Courier New',Monospaced,Monospace">saveDocument</font>
 creates a <font face="'Courier New',Monospaced,Monospace">FileOutputStream</font>
 for respective URL, attaches it to a new <font face="'Courier New',Monospaced,Monospace">
OutputStreamWriter</font> and creates an instance of <font face="'Courier New',Monospaced,Monospace">
HTMLWriter</font> with these parameters. <font face="'Courier New',Monospaced,Monospace">
HTMLWriter</font> completely takes care of transforming the model of object <font face="'Courier New',Monospaced,Monospace">
HTMLDocument</font> to an HTML file when its method <font face="'Courier New',Monospaced,Monospace">
write</font> is called.
    </p>
    <p>
      Once the HTML file is saved, its associated style sheet is saved by 
      calling method <font face="'Courier New',Monospaced,Monospace"><a href="../../../topic16/topic4/topic25/topic47.htm">
saveStyleSheet</a></font>. Finally field <font face="'Courier New',Monospaced,Monospace">
textChanged</font> is set to <font face="'Courier New',Monospaced,Monospace">
      false</font> to indicate that the document of this <font face="'Courier New',Monospaced,Monospace">
DocumentPane</font> does not contain changes which need to be saved.
    </p>
  </body>
</html>
