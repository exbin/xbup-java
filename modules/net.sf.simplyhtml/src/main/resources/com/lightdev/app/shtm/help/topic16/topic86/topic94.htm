<html>
  <head>
    <link href="../../style.css" rel="stylesheet" type="text/css">
    
  </head>
  <body>
    <p class="heading1">
      Caret movement in tables
    </p>
    <p>
      As SimplyHTML now has all functionality to create and manipulate tables, 
      it has to provide a way to move the caret inside a table conveniently. 
      Most text processors usually allow to jump to the next or previous cell 
      with the tab key while the caret is inside a table cell. Class <font face="'Courier New',Monospaced,Monospace">
SHTMLEditorPane</font> therefore has an own section of methods dealing with 
      this kind of caret movement.
    </p>
    <p class="heading2">
      Method getCurTableCell
    </p>
    <p>
      With method <font face="'Courier New',Monospaced,Monospace">
      getCurTableCell</font> the caret position inside a table is determined. 
      It returns the cell the caret currently is in or null, if the caret is 
      not inside a table. This is done by using method <font face="'Courier New',Monospaced,Monospace">
findElementUp</font> of class <font face="'Courier New',Monospaced,Monospace">
      Util</font> which looks for the next occurrence of a certain element (<font face="'Courier New',Monospaced,Monospace">
TD</font> in this case) starting at a given element (the character element at 
      the current position in this case).
    </p>
    <p>
      This method is used in almost any table related methods.
    </p>
    <p class="heading2">
      Methods getFirstTableCell and getLastTableCell
    </p>
    <p>
      When the caret shall be moved from one cell of the table to another, it 
      has to be determined if there are cells to move to from the current cell 
      in a certain direction (previous or next). Methods <font face="'Courier New',Monospaced,Monospace">
getFirstTableCell</font> and <font face="'Courier New',Monospaced,Monospace">
      getLastTableCell</font> return the first and last cell in a table given 
      any cell of that table.
    </p>
    <p class="heading2">
      PrevCellAction and NextCellAction
    </p>
    <p>
      Actions are used to actually move the caret from one cell to the next or 
      previous one. Actions <font face="'Courier New',Monospaced,Monospace">
      PrevCellAction</font> and <font face="'Courier New',Monospaced,Monospace">
NextCellAction</font> use above methods to determine the next or previous cell 
      to move to and then place the caret into that cell. Both actions are 
      added to the key map of <font face="'Courier New',Monospaced,Monospace">
      SHTMLEditorPane</font> with method <font face="'Courier New',Monospaced,Monospace">
adjustKeyBindings</font> upon construction of the editor pane. <font face="'Courier New',Monospaced,Monospace">
NextCellAction</font> is connected to the <font face="'Courier New',Monospaced,Monospace">
TAB</font> key, <font face="'Courier New',Monospaced,Monospace">PrevCellAction</font>
 is related to <font face="'Courier New',Monospaced,Monospace">SHIFT TAB</font>
       .
    </p>
    <p>
      For the case that the caret is not inside a table, both actions store 
      the original action found in the key map for <font face="'Courier New',Monospaced,Monospace">
TAB</font> and <font face="'Courier New',Monospaced,Monospace">SHIFT TAB</font>
       respectively. If a table action is invoked by <font face="'Courier New',Monospaced,Monospace">
TAB</font> or <font face="'Courier New',Monospaced,Monospace">SHIFT TAB</font> 
      thereafter and the caret is not inside a table cell, the original action 
      for the associated key is invoked.
    </p>
  </body>
</html>
