<html>
  <head>
    <link href="../../style.css" rel="stylesheet" type="text/css">
    <title>    </title>
    
  </head>
  <body>
    <p class="heading1">
      Integrating the new component
    </p>
    <p>
      Class <font face="'Courier New',Monospaced,Monospace">DocumentPane</font>
       is used as the GUI representation of a document in application 
      SimplyHTML. To let the user switch between layout view and HTML view in 
      stage 10 class <font face="'Courier New',Monospaced,Monospace">
      DocumentPane</font> has some additional parts:
    </p>
    <ul>
      <li>
        an editor pane to show and edit HTML code additional to the one used 
        to show and edit the text and layout
      </li>
      <li>
        a <font face="'Courier New',Monospaced,Monospace">JTabbedPane</font> 
        to hold two editor panes and to switch between the two
      </li>
      <li>
        a method to track the state of the new <font face="'Courier New',Monospaced,Monospace">
JTabbedPane</font> and to react on state changes
      </li>
      <li>
        methods that handle transfer of content between the two editor panes
      </li>
    </ul>
    <p class="heading2">
      Initializing the two views
    </p>
    <p>
      The <font face="'Courier New',Monospaced,Monospace">JTabbedPane</font> 
      is initialized in the constructor of <font face="'Courier New',Monospaced,Monospace">
DocumentPane</font> and a reference is kept in new class field <font face="'Courier New',Monospaced,Monospace">
tpView</font>. The <font face="'Courier New',Monospaced,Monospace">JTabbedPane</font>
 is added to the center area of the content pane of class <font face="'Courier New',Monospaced,Monospace">
DocumentPane</font>.
    </p>
    <p class="heading3">
      Adding two editor panes
    </p>
    <p>
      A new class field <font face="'Courier New',Monospaced,Monospace">
      htmlEditor</font> of class <font face="'Courier New',Monospaced,Monospace">
DocumentPane</font> references the new <font face="'Courier New',Monospaced,Monospace">
SyntaxPane</font>. The field is initialized in the constructor of class <font face="'Courier New',Monospaced,Monospace">
DocumentPane</font> with a new instance of class <font face="'Courier New',Monospaced,Monospace">
SyntaxPane</font>.
    </p>
    <p>
      The <font face="'Courier New',Monospaced,Monospace">SHTMLEditorPane</font>
 in class field <font face="'Courier New',Monospaced,Monospace">editor</font> 
      and the <font face="'Courier New',Monospaced,Monospace">SyntaxPane</font>
       in class field <font face="'Courier New',Monospaced,Monospace">
      htmlEditor</font> are added to the <font face="'Courier New',Monospaced,Monospace">
JTabbedPane</font> in the constructor of class <font face="'Courier New',Monospaced,Monospace">
DocumentPane</font>. Now the two resulting tabs in the <font face="'Courier New',Monospaced,Monospace">
DocumentPane</font> can be used to toggle display between layout view and HTML 
      view.
    </p>
    <p class="heading3">
      Tracking tab clicks
    </p>
    <p>
      Class <font face="'Courier New',Monospaced,Monospace">DocumentPane</font>
       implements interface <font face="'Courier New',Monospaced,Monospace">
      ChangeListener</font> by adding new method <font face="'Courier New',Monospaced,Monospace">
stateChanged</font>. Class <font face="'Courier New',Monospaced,Monospace">
      DocumentPane</font> is added to the <font face="'Courier New',Monospaced,Monospace">
JTabbedPane</font> as a <font face="'Courier New',Monospaced,Monospace">
      ChangeListener</font>. Method <font face="'Courier New',Monospaced,Monospace">
stateChanged</font> is called by the <font face="'Courier New',Monospaced,Monospace">
JTabbedPane</font> whenever its state changes (another tab has been clicked, 
      that is).
    </p>
    <p>
      Method <font face="'Courier New',Monospaced,Monospace">stateChanged</font>
 of class <font face="'Courier New',Monospaced,Monospace">DocumentPane</font> 
      checks if the state of the <font face="'Courier New',Monospaced,Monospace">
JTabbedPane</font> of class <font face="'Courier New',Monospaced,Monospace">
      DocumentPane</font> has changed. Every time the state of the <font face="'Courier New',Monospaced,Monospace">
JTabbedPane</font> chages, the view associated to the clicked tab is opened 
      through methods <font face="'Courier New',Monospaced,Monospace">
      setLayoutView</font> and <font face="'Courier New',Monospaced,Monospace">
      setHTMLView</font>.
    </p>
    <p class="heading2">
      Method setLayoutView
    </p>
    <p>
      In method <font face="'Courier New',Monospaced,Monospace">setLayoutView</font>
 the current content of the <font face="'Courier New',Monospaced,Monospace">
      SyntaxPane</font> is taken (the HTML code) and transferred over to the <font face="'Courier New',Monospaced,Monospace">
SHTMLEditorPane</font>. Because method <font face="'Courier New',Monospaced,Monospace">
setLayoutView</font> is used when the HTML display is hidden and the layout 
      display is shown, it removes the instance of <font face="'Courier New',Monospaced,Monospace">
DocumentPane</font> as a <font face="'Courier New',Monospaced,Monospace">
      DocumentListener</font> from the <font face="'Courier New',Monospaced,Monospace">
SyntaxPane</font> and adds it to the <font face="'Courier New',Monospaced,Monospace">
SHTMLEditorPane</font> so that changes are tracked by <font face="'Courier New',Monospaced,Monospace">
DocumentPane</font> accordingly.
    </p>
    <p class="heading2">
      Method setHTMLView
    </p>
    <p>
      Method <font face="'Courier New',Monospaced,Monospace">setHTMLView</font>
       works the same as <font face="'Courier New',Monospaced,Monospace">
      setLayoutView</font> in the way that it removes and adds class <font face="'Courier New',Monospaced,Monospace">
DocumentPane</font> as a <font face="'Courier New',Monospaced,Monospace">
      DocumentListener</font> accordingly. It takes contents of <font face="'Courier New',Monospaced,Monospace">
SHTMLEditorPane</font> and adds them to the <font face="'Courier New',Monospaced,Monospace">
SyntaxPane</font> too.
    </p>
    <p>
      To see the HTML code instead of the textual representation of the 
      document however, method <font face="'Courier New',Monospaced,Monospace">
      setHTMLView</font> transforms the document content, before storing the 
      resulting HTML code in the <font face="'Courier New',Monospaced,Monospace">
SyntaxPane</font>. It uses the <font face="'Courier New',Monospaced,Monospace">
      HTMLWriter</font> or <font face="'Courier New',Monospaced,Monospace">
      SHTMLWriter</font> of the editor kit of class <font face="'Courier New',Monospaced,Monospace">
SHTMLEditorPane</font> to generate HTML code for the particular document. This 
      HTML code then is set to be the initial content of the <font face="'Courier New',Monospaced,Monospace">
SyntaxPane</font>.
    </p>
    <p>
      Finally it calls method <font face="'Courier New',Monospaced,Monospace">
      setMarks</font> to apply syntax highlighting initially.
    </p>
  </body>
</html>
